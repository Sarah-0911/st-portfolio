---
// filepath: /home/sarah/code/Sarah-0911/st-portfolio/src/components/Tooltip.astro
const messages = [
  "Hi there!",
  "Clicked again?",
  "Still here?",
  "Persistent, aren't you?",
  "What's up?",
  "Again? Really?",
  "You're curious!",
  "Not cool!",
  "Give it a break!",
  "That's annoying!",
  "Hands off!",
  "No more clicks!",
  "Seriously?!",
  "Ouch! That hurts!",
  "You're persistent!",
  "Why the curiosity?",
  "I'm getting tired!",
  "I'm bored!",
  "Enough's enough!",
  "Find another hobby!",
  "Stop, please!",
  "Okay, last one!",
  "That's it, I'm done!",
];
---
<script is:inline>
  // Ce script s'exÃ©cute pour chaque instance du composant
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.tooltip-easter-egg').forEach((el) => {
      const btn = el.querySelector('.tooltip-btn');
      const tooltip = el.querySelector('.tooltip-msg');
      let clickCount = 0;
      btn.addEventListener('click', () => {
        console.log('Button clicked');
        clickCount++;
        tooltip.style.display = 'block';
        tooltip.textContent = messages[Math.min(clickCount, messages.length - 1)];
        setTimeout(() => {
          tooltip.style.display = 'none';
        }, 1500);
      });
    });
  });
</script>

<div class="relative inline-block tooltip-easter-egg">
  <div class="tooltip-btn" tabindex="0">
    <slot />
  </div>
  <div
    class="tooltip-msg absolute left-1/2 -translate-x-1/2 -translate-y-10 mt-1 w-auto max-h-[70px] p-2 bg-black text-white text-center rounded-lg z-10 shadow-custom shadow-primary-500 border border-primary-500 whitespace-normal"
    style="display: none;"
  >
    {messages[0]}
  </div>
</div>
